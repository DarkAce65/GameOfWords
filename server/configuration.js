Meteor.publish("gameData", function(gameId, secret) {
	var game = Games.findOne(gameId);
	if(!game) {
		throw new Meteor.Error("game-not-found", "Game not found");
	}
	if(game.secret === secret) {
		return Games.find(gameId);
	}
	return Games.find(gameId, {
		fields: {
			words: 1,
			actions: 1
		}
	});
});

Words.remove({});

Words.insert({"word": "SMUGGLER"});
Words.insert({"word": "ENGLAND"});
Words.insert({"word": "BARK"});
Words.insert({"word": "THIEF"});
Words.insert({"word": "BOND"});
Words.insert({"word": "PAN"});
Words.insert({"word": "DICE"});
Words.insert({"word": "SHIP"});
Words.insert({"word": "EYE"});
Words.insert({"word": "MEXICO"});
Words.insert({"word": "BED"});
Words.insert({"word": "CIRCLE"});
Words.insert({"word": "STRING"});
Words.insert({"word": "NIGHT"});
Words.insert({"word": "UNICORN"});
Words.insert({"word": "SPY"});
Words.insert({"word": "SCREEN"});
Words.insert({"word": "FAIR"});
Words.insert({"word": "STOCK"});
Words.insert({"word": "DEATH"});
Words.insert({"word": "CASINO"});
Words.insert({"word": "PILOT"});
Words.insert({"word": "FIGHTER"});
Words.insert({"word": "WAKE"});
Words.insert({"word": "DAY"});
Words.insert({"word": "MILLIONAIRE"});
Words.insert({"word": "TEMPLE"});
Words.insert({"word": "ORANGE"});
Words.insert({"word": "TRACK"});
Words.insert({"word": "FORCE"});
Words.insert({"word": "TRAIN"});
Words.insert({"word": "FIELD"});
Words.insert({"word": "PRINCESS"});
Words.insert({"word": "TIME"});
Words.insert({"word": "PAPER"});
Words.insert({"word": "SOUND"});
Words.insert({"word": "BAT"});
Words.insert({"word": "MASS"});
Words.insert({"word": "COMIC"});
Words.insert({"word": "MAMMOTH"});
Words.insert({"word": "CHECK"});
Words.insert({"word": "QUEEN"});
Words.insert({"word": "LOG"});
Words.insert({"word": "LOCH NESS"});
Words.insert({"word": "TAP"});
Words.insert({"word": "MOUTH"});
Words.insert({"word": "TAIL"});
Words.insert({"word": "CRASH"});
Words.insert({"word": "MOUNT"});
Words.insert({"word": "BOX"});
Words.insert({"word": "BELT"});
Words.insert({"word": "LIGHT"});
Words.insert({"word": "BUG"});
Words.insert({"word": "MINT"});
Words.insert({"word": "SWITCH"});
Words.insert({"word": "STRAW"});
Words.insert({"word": "ANGEL"});
Words.insert({"word": "SPIDER"});
Words.insert({"word": "SCIENTIST"});
Words.insert({"word": "SPIKE"});
Words.insert({"word": "VACUUM"});
Words.insert({"word": "ATLANTIS"});
Words.insert({"word": "EAGLE"});
Words.insert({"word": "GENIUS"});
Words.insert({"word": "CHAIR"});
Words.insert({"word": "WATER"});
Words.insert({"word": "CHURCH"});
Words.insert({"word": "KNIFE"});
Words.insert({"word": "OCTOPUS"});
Words.insert({"word": "WHIP"});
Words.insert({"word": "FRANCE"});
Words.insert({"word": "BLOCK"});
Words.insert({"word": "PASS"});
Words.insert({"word": "GREEN"});
Words.insert({"word": "MATCH"});
Words.insert({"word": "IRON"});
Words.insert({"word": "HEAD"});
Words.insert({"word": "LITTER"});
Words.insert({"word": "MOSCOW"});
Words.insert({"word": "PALM"});
Words.insert({"word": "ALPS"});
Words.insert({"word": "WORM"});
Words.insert({"word": "KING"});
Words.insert({"word": "PITCH"});
Words.insert({"word": "POUND"});
Words.insert({"word": "SUB"});
Words.insert({"word": "HOOD"});
Words.insert({"word": "HEART"});
Words.insert({"word": "CAST"});
Words.insert({"word": "GAS"});
Words.insert({"word": "MUG"});
Words.insert({"word": "CONCERT"});
Words.insert({"word": "DECK"});
Words.insert({"word": "BUFFALO"});
Words.insert({"word": "ROW"});
Words.insert({"word": "PISTOL"});
Words.insert({"word": "MOON"});
Words.insert({"word": "NET"});
Words.insert({"word": "KANGAROO"});
Words.insert({"word": "STRIKE"});
Words.insert({"word": "SNOWMAN"});
Words.insert({"word": "HELICOPTER"});
Words.insert({"word": "TRUNK"});
Words.insert({"word": "SNOW"});
Words.insert({"word": "UNDERTAKER"});
Words.insert({"word": "MAIL"});
Words.insert({"word": "BILL"});
Words.insert({"word": "DINOSAUR"});
Words.insert({"word": "OLIVE"});
Words.insert({"word": "GRACE"});
Words.insert({"word": "DROP"});
Words.insert({"word": "PHOENIX"});
Words.insert({"word": "AFRICA"});
Words.insert({"word": "SCUBA DIVER"});
Words.insert({"word": "WASHINGTON"});
Words.insert({"word": "PIN"});
Words.insert({"word": "BELL"});
Words.insert({"word": "LEMON"});
Words.insert({"word": "SUPERHERO"});
Words.insert({"word": "OIL"});
Words.insert({"word": "TIE"});
Words.insert({"word": "TABLE"});
Words.insert({"word": "LONDON"});
Words.insert({"word": "ROCK"});
Words.insert({"word": "BACK"});
Words.insert({"word": "CZECH"});
Words.insert({"word": "PARACHUTE"});
Words.insert({"word": "HOTEL"});
Words.insert({"word": "SATELLITE"});
Words.insert({"word": "LAWYER"});
Words.insert({"word": "TOKYO"});
Words.insert({"word": "MODEL"});
Words.insert({"word": "AZTEC"});
Words.insert({"word": "MAPLE"});
Words.insert({"word": "COMPOUND"});
Words.insert({"word": "SLUG"});
Words.insert({"word": "PLAY"});
Words.insert({"word": "TOOTH"});
Words.insert({"word": "GERMANY"});
Words.insert({"word": "FORK"});
Words.insert({"word": "HORSE"});
Words.insert({"word": "PIRATE"});
Words.insert({"word": "BOARD"});
Words.insert({"word": "CLOAK"});
Words.insert({"word": "REVOLUTION"});
Words.insert({"word": "COOK"});
Words.insert({"word": "DRAGON"});
Words.insert({"word": "STADIUM"});
Words.insert({"word": "TURKEY"});
Words.insert({"word": "MINE"});
Words.insert({"word": "POLE"});
Words.insert({"word": "APPLE"});
Words.insert({"word": "FISH"});
Words.insert({"word": "COTTON"});
Words.insert({"word": "WAR"});
Words.insert({"word": "MOUSE"});
Words.insert({"word": "AGENT"});
Words.insert({"word": "BUCK"});
Words.insert({"word": "CYCLE"});
Words.insert({"word": "TELESCOPE"});
Words.insert({"word": "POST"});
Words.insert({"word": "RAY"});
Words.insert({"word": "SPACE"});
Words.insert({"word": "HOOK"});
Words.insert({"word": "THUMB"});
Words.insert({"word": "ANTARCTICA"});
Words.insert({"word": "ENGINE"});
Words.insert({"word": "SHAKESPEARE"});
Words.insert({"word": "SHADOW"});
Words.insert({"word": "CENTAUR"});
Words.insert({"word": "NEW YORK"});
Words.insert({"word": "FOOT"});
Words.insert({"word": "LINK"});
Words.insert({"word": "DANCE"});
Words.insert({"word": "SHOE"});
Words.insert({"word": "MOLE"});
Words.insert({"word": "SQUARE"});
Words.insert({"word": "GREECE"});
Words.insert({"word": "LOCK"});
Words.insert({"word": "BRUSH"});
Words.insert({"word": "COURT"});
Words.insert({"word": "SPRING"});
Words.insert({"word": "STAFF"});
Words.insert({"word": "MARBLE"});
Words.insert({"word": "INDIA"});
Words.insert({"word": "ROUND"});
Words.insert({"word": "CHICK"});
Words.insert({"word": "CENTER"});
Words.insert({"word": "ROULETTE"});
Words.insert({"word": "MERCURY"});
Words.insert({"word": "FACE"});
Words.insert({"word": "BERLIN"});
Words.insert({"word": "GROUND"});
Words.insert({"word": "NOTE"});
Words.insert({"word": "MISSILE"});
Words.insert({"word": "PASTE"});
Words.insert({"word": "OLYMPUS"});
Words.insert({"word": "NINJA"});
Words.insert({"word": "DWARF"});
Words.insert({"word": "PLASTIC"});
Words.insert({"word": "CONTRACT"});
Words.insert({"word": "MARCH"});
Words.insert({"word": "HIMALAYAS"});
Words.insert({"word": "CROWN"});
Words.insert({"word": "FIRE"});
Words.insert({"word": "BAND"});
Words.insert({"word": "COLD"});
Words.insert({"word": "CRICKET"});
Words.insert({"word": "NURSE"});
Words.insert({"word": "LEPRECHAUN"});
Words.insert({"word": "AMERICA"});
Words.insert({"word": "IVORY"});
Words.insert({"word": "WATCH"});
Words.insert({"word": "LEAD"});
Words.insert({"word": "SLIP"});
Words.insert({"word": "TABLET"});
Words.insert({"word": "AUSTRALIA"});
Words.insert({"word": "LIMOUSINE"});
Words.insert({"word": "POINT"});
Words.insert({"word": "TUBE"});
Words.insert({"word": "THEATER"});
Words.insert({"word": "EGYPT"});
Words.insert({"word": "TEACHER"});
Words.insert({"word": "PUMPKIN"});
Words.insert({"word": "STAR"});
Words.insert({"word": "POOL"});
Words.insert({"word": "PLOT"});
Words.insert({"word": "PUPIL"});
Words.insert({"word": "HOLLYWOOD"});
Words.insert({"word": "WELL"});
Words.insert({"word": "CROSS"});
Words.insert({"word": "SEAL"});
Words.insert({"word": "PIPE"});
Words.insert({"word": "NOVEL"});
Words.insert({"word": "DRESS"});
Words.insert({"word": "AMBULANCE"});
Words.insert({"word": "SOUL"});
Words.insert({"word": "EUROPE"});
Words.insert({"word": "OPERA"});
Words.insert({"word": "PYRAMID"});
Words.insert({"word": "CELL"});
Words.insert({"word": "COVER"});
Words.insert({"word": "CALF"});
Words.insert({"word": "AIR"});
Words.insert({"word": "FALL"});
Words.insert({"word": "SCALE"});
Words.insert({"word": "SHARK"});
Words.insert({"word": "JUPITER"});
Words.insert({"word": "DUCK"});
Words.insert({"word": "RING"});
Words.insert({"word": "TRIP"});
Words.insert({"word": "CRANE"});
Words.insert({"word": "PRESS"});
Words.insert({"word": "SPINE"});
Words.insert({"word": "FIGURE"});
Words.insert({"word": "PARK"});
Words.insert({"word": "FILM"});
Words.insert({"word": "BUTTON"});
Words.insert({"word": "POLICE"});
Words.insert({"word": "LION"});
Words.insert({"word": "JET"});
Words.insert({"word": "MICROSCOPE"});
Words.insert({"word": "DEGREE"});
Words.insert({"word": "BOW"});
Words.insert({"word": "TRIANGLE"});
Words.insert({"word": "CAP"});
Words.insert({"word": "BATTERY"});
Words.insert({"word": "HAWK"});
Words.insert({"word": "STICK"});
Words.insert({"word": "PLATYPUS"});
Words.insert({"word": "PIT"});
Words.insert({"word": "FLY"});
Words.insert({"word": "TICK"});
Words.insert({"word": "GOLD"});
Words.insert({"word": "SPOT"});
Words.insert({"word": "PIANO"});
Words.insert({"word": "SOCK"});
Words.insert({"word": "NUT"});
Words.insert({"word": "BANK"});
Words.insert({"word": "BOOM"});
Words.insert({"word": "HORSESHOE"});
Words.insert({"word": "HONEY"});
Words.insert({"word": "SHOP"});
Words.insert({"word": "NEEDLE"});
Words.insert({"word": "KIWI"});
Words.insert({"word": "CODE"});
Words.insert({"word": "HORN"});
Words.insert({"word": "CARD"});
Words.insert({"word": "WAVE"});
Words.insert({"word": "CAR"});
Words.insert({"word": "HAND"});
Words.insert({"word": "SWING"});
Words.insert({"word": "BEACH"});
Words.insert({"word": "CHARGE"});
Words.insert({"word": "DRILL"});
Words.insert({"word": "DATE"});
Words.insert({"word": "HOSPITAL"});
Words.insert({"word": "SATURN"});
Words.insert({"word": "CHINA"});
Words.insert({"word": "BOLT"});
Words.insert({"word": "SCHOOL"});
Words.insert({"word": "SERVER"});
Words.insert({"word": "BOTTLE"});
Words.insert({"word": "FOREST"});
Words.insert({"word": "GIANT"});
Words.insert({"word": "NAIL"});
Words.insert({"word": "DOCTOR"});
Words.insert({"word": "BALL"});
Words.insert({"word": "KEY"});
Words.insert({"word": "ALIEN"});
Words.insert({"word": "CARROT"});
Words.insert({"word": "FLUTE"});
Words.insert({"word": "STREAM"});
Words.insert({"word": "GLOVE"});
Words.insert({"word": "JAM"});
Words.insert({"word": "ORGAN"});
Words.insert({"word": "BUGLE"});
Words.insert({"word": "PART"});
Words.insert({"word": "CAPITAL"});
Words.insert({"word": "FENCE"});
Words.insert({"word": "DOG"});
Words.insert({"word": "CONDUCTOR"});
Words.insert({"word": "GRASS"});
Words.insert({"word": "SPELL"});
Words.insert({"word": "LAB"});
Words.insert({"word": "CLIFF"});
Words.insert({"word": "BOOT"});
Words.insert({"word": "GHOST"});
Words.insert({"word": "HAM"});
Words.insert({"word": "DRAFT"});
Words.insert({"word": "GAME"});
Words.insert({"word": "WASHER"});
Words.insert({"word": "BERRY"});
Words.insert({"word": "SOLDIER"});
Words.insert({"word": "POISON"});
Words.insert({"word": "TOWER"});
Words.insert({"word": "FAN"});
Words.insert({"word": "WEB"});
Words.insert({"word": "LUCK"});
Words.insert({"word": "AMAZON"});
Words.insert({"word": "HOLE"});
Words.insert({"word": "BEAT"});
Words.insert({"word": "PLATE"});
Words.insert({"word": "LINE"});
Words.insert({"word": "DIAMOND"});
Words.insert({"word": "WHALE"});
Words.insert({"word": "LASER"});
Words.insert({"word": "SKYSCRAPER"});
Words.insert({"word": "ROBIN"});
Words.insert({"word": "BRIDGE"});
Words.insert({"word": "VAN"});
Words.insert({"word": "VET"});
Words.insert({"word": "BAR"});
Words.insert({"word": "FILE"});
Words.insert({"word": "KID"});
Words.insert({"word": "WIND"});
Words.insert({"word": "ROOT"});
Words.insert({"word": "PENGUIN"});
Words.insert({"word": "ICE CREAM"});
Words.insert({"word": "RABBIT"});
Words.insert({"word": "RACKET"});
Words.insert({"word": "BEIJING"});
Words.insert({"word": "ROBOT"});
Words.insert({"word": "EMBASSY"});
Words.insert({"word": "PORT"});
Words.insert({"word": "DISEASE"});
Words.insert({"word": "COPPER"});
Words.insert({"word": "JACK"});
Words.insert({"word": "TAG"});
Words.insert({"word": "ICE"});
Words.insert({"word": "TORCH"});
Words.insert({"word": "STATE"});
Words.insert({"word": "CHEST"});
Words.insert({"word": "YARD"});
Words.insert({"word": "LAP"});
Words.insert({"word": "LIFE"});
Words.insert({"word": "RULER"});
Words.insert({"word": "BOMB"});
Words.insert({"word": "WITCH"});
Words.insert({"word": "KETCHUP"});
Words.insert({"word": "SCORPION"});
Words.insert({"word": "CANADA"});
Words.insert({"word": "CLUB"});
Words.insert({"word": "SINK"});
Words.insert({"word": "KNIGHT"});
Words.insert({"word": "PIE"});
Words.insert({"word": "CHANGE"});
Words.insert({"word": "ROSE"});
Words.insert({"word": "GLASS"});
Words.insert({"word": "BEAR"});
Words.insert({"word": "SUIT"});
Words.insert({"word": "CHOCOLATE"});
Words.insert({"word": "ARM"});
Words.insert({"word": "BERMUDA"});
Words.insert({"word": "WALL"});
Words.insert({"word": "PANTS"});
Words.insert({"word": "PLANE"});
Words.insert({"word": "ROME"});
Words.insert({"word": "CAT"});
Words.insert({"word": "SHOT"});
